---
title: "PS8 - Scatterplots and Correlation"
format: pdf
jupyter: python3
---

# Introduction

Please watch [Correlation Does Not Equal Causation](https://www.youtube.com/watch?v=GtV-VYdNt_g&list=PL8dPuuaLjXtNM_Y-bUAhblSAdWRnmBUcr&index=9&t=1s) before starting the problem set.

# Setup

For this problem set we are going to load several new packages: `scikit-learn`, `statsmodels`, and `pydataset`.  We will use `scikit-learn`, and `statsmodels` for doing statistical analysis. Both of these packages contain much of the same functionality, but their focus is a little different. The `pydataset` contains datasets we will practice doing statistics with.

This problem set uses the Diabetes dataset from `scikit-learn` as an example. 

```{python}
import pandas as pd  
import matplotlib.pyplot as plt
from pydataset import data
from sklearn.datasets import load_diabetes

# load diabetes data
diabetes_data = load_diabetes(as_frame=True)

# get documenation on diabetes data
print(diabetes_data.DESCR)

#extract data frame
diabetes = diabetes_data.frame

```


# What Question Are You Asking?

Whenever you sit down to do statistics, it is always a good idea to keep in mind what question you are trying to answer. In general, there are two types of questions statisticians can ask: questions of prediction and questions of inference.

## Questions of prediction
Questions of prediction are questions that ask us to predict the outcome of a situation we do not know. For example, we may want to know how a student will do on a final, based on their grades during the rest of the class. We may want to predict which basketball team match-ups will be most competitive, so we don't buy tickets to a boring game. A very common prediction question is what will the weather be like tomorrow, or a week from tomorrow. For the diabetes dataset, we are interested in predicting how quickly a person's diabetes will progress once diagnosed. This is particularly of interest because uncontrolled diabetes can have very severe health outcomes. 

## Questions of inference
Questions of inference are questions about how the world works. For example, we may want to know what effect an increase in atmospheric CO~2~ has summer temperatures in the Central Valley, or the severity of fire season. This won't tell us anything about what to wear next week, but it will inform whether or not we decide to move to a different state. For the diabetes dataset, we want to know what are the most useful risk factors to look for when assessing whether a person is likely to develop type II diabetes.

## Spurious Inference
Flying Spaghetti Monster


```{python}

x_names = ['Age', 'Sex', 'BMI', 'Blood Pressure', 'Total Cholestral', 
"LDL ('Bad Cholesteral')", "HDL ('Good Cholesteral')", 'Total/HDL', 
'Log(Serum Triglycerides Level)', 'Blood Sugar Level']

ncol = 2
nrow = int(len(x_names)/ncol)

fig1, axs1 = plt.subplots(nrow, ncol, sharey=True, sharex=True,
figsize=(8,10))

for i, ax in enumerate(fig1.axes):
    ax.scatter(diabetes.iloc[:, i], diabetes.target)
    ax.set_xlabel(x_names[i])
    if i % 2 == 0:
        ax.set_ylabel('Disease Progression')

#Add Title
fig1.suptitle('Figure 1. Scatterplots of Diabetes Covariates')

#removing space between the plots horizontally 
plt.subplots_adjust(wspace=0, top=0.95, bottom=0.15)


plt.show()

```



# Questions
For this problem set please use the `mtcars` dataset from the `pydatasets` package to answer the following questions. 

1. Reading the Documentation: the `pydatasets` package does not have very good documetation for the the datasets it contains. Thankfully, `mtcars` is well documented elsewhere. 
   a. Find an alternate source of documetation for the `mtcars` dataset on the internet.
   b. Describe each variable in the `mtcars` dataset, including the units and data range if it is a numeric variable. 
2. Prediction vs. Inference
   a. What is a question of prediction we could ask about fuel efficiency using the `mtcars` data set.
   b. What is an inferential question we could ask about fuel efficiency using the `mtcars` data set. 
3. Visualization: create a figure with at least 3 scatterplot subplots, showing how fuel efficiency (mpg) changes.